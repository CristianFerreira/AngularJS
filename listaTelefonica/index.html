<html ng-app="listaTelefonica">
<head>
  <title>Lista Telefonica</title>
  <script src="angular.min.js"></script>
  <script type="text/javascript" src="bower_components/angular-ui-mask/dist/mask.js"></script>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

  <style>
  .jumbotron{
    width: 400px;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
    margin-top: 50px;
  }

  .table{
    margin-top: 20px;
  }

  .form-control{
    margin-bottom: 5px;
  }

  .title{
    margin-bottom: 20px;
  }

  .selecionado{
    background-color: yellow;
  }
  .negrito{
    font-weight: bold;
  }
  </style>

  <script>
  angular.module("listaTelefonica",['ui.mask']);
  angular.module("listaTelefonica").controller("listaTelefonicaController", function($scope){
    $scope.titulo = "Lista Telefonica";
    $scope.contatos = [

    ];

    $scope.operadoras = [
      {nome: "oi", codigo:1, categoria: "Celular"},
      {nome: "claro", codigo:2, categoria: "Celular"},
      {nome: "TIM", codigo:3, categoria: "Celular"},
      {nome: "vivo", codigo:4, categoria: "Celular"},
      {nome: "GVT", codigo:5, categoria: "Fixo"},
      {nome: "Embratel", codigo:6, categoria: "Fixo"}
    ];

    $scope.adicionarContato = function(contato){
      $scope.contatos.push(contato);
      delete $scope.contato;

    };

    $scope.apagarContato = function(contatos){
        $scope.contatos = contatos.filter(function(contato){
           if(!contato.selecionado) return contato;
        });
    };

    $scope.isContatoSelecionado = function(contatos){
        return contatos.some(function(contato){
          return contato.selecionado;
        });
    };

    $scope.limparCampo = function(){
      $scope.nome = "";
      $scope.telefone = "";
    };
  });



  </script>

</head>

<body ng-controller="listaTelefonicaController">

  <div class="jumbotron">
    <h3 class="title" ng-bind="titulo"></h3>
    <table ng-show="contatos.length > 0" class="table">
      <tr>
        <th></th>
        <th>Nome</th>
        <th>Telefone</th>
        <th>Operadora</th>
      </tr>
      <tr ng-class="{'selecionado negrito': contato.selecionado}" ng-repeat="contato in contatos">
        <td><input type="checkbox" ng-model="contato.selecionado"/></td>
        <td>{{contato.nome}}</td>
        <td>{{contato.telefone}}</td>
        <td>{{contato.operadora.nome}}</td>
      </tr>
    </table>
  </hr>
  <input class="form-control" placeholder="Nome" type="text" ng-model="contato.nome" />
  <input class="form-control"  ui-mask="(99)99999-9999" type="text" ng-model="contato.telefone" />
  <select class="form-control" ng-options="operadora.nome group by operadora.categoria for operadora in operadoras" ng-model="contato.operadora">
    <option value="">Selecione uma operadora</option>
  </select>

  <button class="btn btn-primary btn-block" ng-disabled="!contato.nome || !contato.telefone" ng-click="adicionarContato(contato);">Adicionar Contato</button>
  <button class="btn btn-danger btn-block" ng-disabled="!isContatoSelecionado(contatos);" ng-click="apagarContato(contatos)">Apagar Contato</button>
</div>
<div style="text-align:center">Criado por Cristian Ferreira</div>
</body>

</html>
